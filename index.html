<!DOCTYPE html>
<html>
<head>
  <title>MQTT Role Login</title>
</head>
<body>
  <h2>Login to MQTT</h2>
  <input type="text" id="username" placeholder="Username"><br><br>
  <input type="password" id="password" placeholder="Password"><br><br>
  <button onclick="handleLogin()">Login</button>

  <script>
    function handleLogin() {
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value;

      if (!username || !password) {
        alert("Please enter both username and password");
        return;
      }

      // Save credentials for later use in session
      sessionStorage.setItem("mqttUsername", username);
      sessionStorage.setItem("mqttPassword", password);

      // Redirect based on role
      if (username.toLowerCase().startsWith("admin")) {
        window.location.href = "client.html";
      } else if (username.toLowerCase().startsWith("device")) {
        window.location.href = "device.html";
      } else {
        alert("Unknown role. Use 'admin' or 'device' prefix.");
      }
    }
  </script>
</body>
</html>
